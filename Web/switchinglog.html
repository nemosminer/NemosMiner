<!--#include file="/parts/head.html" -->
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h2 id="title" data-navbaractive="navswitchinglog">Switching Log</h2>
          </div>
          <div class="alert alert-info" role="alert">Lists the executed miners and the command lines used (last 1000 entries).</div>
          <div id="toolbar">
            <button id="btn-clear-log" class="btn btn-info">Clear Switching Log</button>
          </div>
          <table id="switchinglog" class="table"
            data-ajax-options="ajaxOptions"
            data-auto-refresh-status="true"
            data-auto-refresh="false"
            data-cache="false"
            data-click-to-select="true"
            data-cookie="true"
            data-cookie-id-table="switchonglog"
            data-cookies-enabled="['bs.table.hiddenColumns', 'bs.table.columns']"
            data-detail-formatter="detailFormatter"
            data-detail-view="true"
            data-disable-control-when-search="true"
            data-filter-control="true"
            data-header-style="headerStyleAlignTop"
            data-icons="icons"
            data-maintain-meta-data="true"
            data-response-handler="formatData"
            data-show-button-text="true"
            data-show-columns="true"
            data-show-fullscreen="true"
            data-show-refresh="true"
            data-show-search-clear-button="true"
            data-show-toggle="true"
            data-toggle="table"
            data-toolbar="#toolbar"
            data-url="/switchinglog"
            >
            <thead>
              <tr>
                <th data-switchable="false" data-field="tAction" data-class="hidden statuscolor"></th>
                <th data-field="DateTime" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-formatter="formatDate">Date & Time</th>
                <th data-field="Action" data-sortable="true" data-filter-control="select" data-filter-strict-search="false">Action</th>
                <th data-field="Name" data-sortable="true" data-filter-control="select" data-filter-strict-search="false">Name</th>
                <th data-field="Pools" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Pool(s)</th>
                <th data-field="Algorithms" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Algorithm(s)</th>
                <th data-field="Accounts" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Account(s)</th>
                <th data-field="Activated" data-sortable="true" data-filter-strict-search="false">Activated</th>
                <th data-field="Cycle" data-sortable="true" data-filter-strict-search="false">Cycles</th>
                <th data-field="Duration" data-sortable="true" data-filter-strict-search="false" data-formatter="formatDuration">Running Time</th>
                <th data-field="DeviceNames" data-sortable="true" data-filter-control="select" data-filter-strict-search="false">Device(s)</th>
                <th data-field="Type" data-sortable="true" data-filter-control="select" data-filter-strict-search="false" data-visible="false">Type</th>
                <th data-field="CommandLine" data-sortable="true" data-filter-control="input" data-filter-strict-search="false">CommandLine</th>
                <th data-field="Reason" data-sortable="true" data-filter-control="input" data-filter-strict-search="false">Failure Reason</th>
                <th data-field="Profit" data-align="right" data-sortable="true" data-formatter="formatDecimalsFromBTC" data-title-tooltip = "per 24hrs (estimated)" data-visible="false">Profit</th>
                <th data-field="Earning" data-align="right" data-sortable="true" data-formatter="formatDecimalsFromBTC" data-title-tooltip = "per 24hrs (estimated)" data-visible="false">Earning</th>
                <th data-field="Profit_Bias" data-align="right" data-sortable="true" data-formatter="formatDecimalsFromBTC" data-title-tooltip = "per 24hrs (estimated)" data-visible="false">Profit Bias</th>
                <th data-field="Earning_Bias" data-align="right" data-sortable="true" data-formatter="formatDecimalsFromBTC" data-title-tooltip = "per 24hrs (estimated)" data-visible="false">Earning Bias</th>
                <th data-field="Benchmark" data-sortable="true" data-filter-control="select" data-filter-strict-search="false" data-visible="false">Benchmark</th>
                <th data-field="MeasurePowerUsage" data-sortable="true" data-filter-control="select" data-filter-strict-search="false" data-visible="false">Measure<br>Power Usage</th>
              </tr>
            </thead>
          </table>
<!-- Start of page scripts 'switchinglog.html' -->
          <script type="text/javascript">
            var $table = $('#switchinglog');

            function formatData(data) {
              async: 'true',
              $.each(data, function(index, item) {
                // Format the action, must use 2nd attribute to allow hiding
                item.tAction = item.Action;
              });
              return data;
            }

            $table.bootstrapTable({
              onPostBody: function () {
                if (config.UseColorForMinerStatus == true) {
                  $(".statuscolor").each(function () {
                    if (this.innerText) $(this).parent('tr').addClass('color-' + this.innerText.toLowerCase());
                  });
                };
              },
              autoRefreshInterval: parseInt(Math.max(config.Interval, 30)), // refresh once per interval, at least 30 seconds
              height: $(window).height() - $table.offset().top - 20
            });

            $(document).ready(function () {
              $('#btn-clear-log').click(function () {
                $url = '/functions/switchinglog/clear';
                $('.modal-body').load($url, function() {
                  $('.modal-title').text($('#btn-clear-log').text());
                  $('#myModal').modal({show:true});
                });
                $('#myModal').on('hidden.bs.modal', function () {
                  $('#switchinglog').bootstrapTable('refresh');
                });
              });
            });

            $(window).resize(function () {
              if (window.RT) clearTimeout(window.RT);
              window.RT = setTimeout(function() {
                this.location.reload(false); /* false to get page from cache */
              }, 200);
            })
          </script>
<!-- End of page scripts 'switchinglog.html' -->
<!--#include file="/parts/foot.html" -->