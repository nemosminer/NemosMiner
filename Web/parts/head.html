<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="shortcut icon" type="image/x-icon" href="https://avatars2.githubusercontent.com/u/50767117?s=400&u=659df63c55ea1bafbb5256e6872ba1662950aae8&v=4"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.css" integrity="sha512-Rw/pAPu6baJLMFJgSnq7iVQaC9XsklVLQQcCm8ZA2/mtGcH78l8xhhGXeApoSPclr6ZTobTeA+Jas8Q1jLnhzA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/filter-control/bootstrap-table-filter-control.min.css" integrity="sha512-IK+plgQ3Qomdj9Mzq2WbM5LF8JY0PPXHGGfiBqBkwhXUi1tVAIvIaLbt330r3t0Y4EUxqG0YGfEhRrQS0gKeYQ==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/sticky-header/bootstrap-table-sticky-header.min.css" integrity="sha512-h7kD5ooAiMRBK9zf3JIRFR8/xj7tDU1ZiLfrXOKyQcXnNQxuBF7dF5fIcEi0gjWrlyOH2eX25LzjbKU6ptVnNg==" crossorigin="anonymous" />

    <link rel="stylesheet" href="/css/dashboard.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" />

    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.min.js" integrity="sha512-Wm00XTqNHcGqQgiDlZVpK4QIhO2MmMJfzNJfh8wwbBC9BR0FtdJwPqDhEYy8jCfKEhWWZe/LDB6FwY7YE9QhMg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/sticky-header/bootstrap-table-sticky-header.min.js" integrity="sha512-H5HvDfifekSoUWEHPz1Zpa5kdlnkZxC6trMZzMy/BdGO9cVMrJmYwXVbsEaekezmAXYZtFa5PI03MzhEYWoyew==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/auto-refresh/bootstrap-table-auto-refresh.min.js" integrity="sha512-cjm1J28H+LM+85W7s6/fFHr3BsBomtRV/nOGFDAEmloV0E8jr382pUWezLsde1lQr+Ek+x6j1R1li07T3cY5pg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/filter-control/bootstrap-table-filter-control.min.js" integrity="sha512-nrE3yoRxAz6j1ZhkE59hXcSKV0cewPN+8ZEXJZnsz2qofCEOwmctecuKrBnWQUj7UA5dOnI+Cam52/AdvB6HKQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/multiple-sort/bootstrap-table-multiple-sort.min.js" integrity="sha512-VHSTn2Uh6Mq+MJDmrr4kjx7ziMVsW4vaK3u0GoNHbQK5C79To2nKWFsaelPQF9skC796tBzzBWqd3Hzw1XEFhQ==" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" integrity="sha512-RXf+QSDCUQs5uwRKaDoXt55jygZZm2V++WUZduaU/Ui/9EGp3f/2KZVahFZBKGH0s774sd3HmrhUy+SgOFQLVQ==" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.1.0/dist/chart.min.js" integrity="sha256-OSW9/BPFwmBNYIPuSLygt3lPae4mVUHtCFgrFTPzCNI=" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js" integrity="sha512-RNLkV3d+aLtfcpEyFG8jRbnWHxUqVZozacROI4J2F1sTaDqo1dPQYs01OMi1t1w9Y2FdbSCDSQ2ZVdAC8bzgAg==" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js" integrity="sha512-UdIMMlVx0HEynClOIFSyOrPggomfhBKJE28LKl8yR3ghkgugPnG6iLfRfHwushZl1MOPSY6TsuBDGPK2X4zYKg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/additional-methods.min.js" integrity="sha512-6Uv+497AWTmj/6V14BsQioPrm3kgwmK9HYIyWP+vClykX52b0zrDGP7lajZoIY1nNlX4oQuh7zsGjmF7D0VZYA==" crossorigin="anonymous"></script>

    <script src="/js/utilities.js"></script>
  </head>

  <!-- Start of page scripts -->
  <script type="text/javascript">
    var maincurrency;
    var rate;
    var config = {};

    // Get current config
    $.ajax({
      url: '/config',
      async: false,
      success: function(result) {
        config = result;
      }
    });

    // get main currency
    $.ajax({
      url: '/currency',
      async: false,
      success: function(result) {
        maincurrency = result;
      }
    });

    // set the values in the header
    $(function() {
      function updateHeader() {

        // get BTC rate of first currency
        $.ajax({
          url: '/btc',
          async: false,
          success: function(result) {
            rate = result;
          }
        });

        // get page header info
        $.ajax({
          url: '/summary',
          success: function(result) {
            $("#summary").empty().append('<h5>' + result + '</h5>');
          }
        });

        //Set mining button status
        $.ajax({url: '/functions/mining/getstatus',
          success: function(result) {
            switch (result) {
              case "Running": 
                document.getElementById('miningstart').disabled = true;
                document.getElementById('miningstart').title = "Mining processes are already running.";
                document.getElementById('miningpause').innerHTML = "Pause mining";
                document.getElementById('miningpause').disabled = false;
                document.getElementById('miningpause').title = "Pause all mining processes. BrainPlus and Balances tracker remain running.";
                document.getElementById('miningstop').disabled = false;
                document.getElementById('miningstop').title = "Stop all mining processes. BrainPlus and Balances tracker will also stop.";
                break;
              case "Paused":
                document.getElementById('miningstart').disabled = false;
                document.getElementById('miningstart').title ="Start the mining process.";
                document.getElementById('miningpause').innerHTML = "Pause mining";
                document.getElementById('miningpause').disabled = true;
                document.getElementById('miningpause').title = "Mining processes are stopped. BrainPlus and Balances tracker are running.";
                document.getElementById('miningstop').disabled = false;
                document.getElementById('miningstop').title = "Stop all mining processes. BrainPlus and Balances tracker will also stop.";
                break;
              case "Stopped":
                document.getElementById('miningstart').disabled = false;
                document.getElementById('miningstart').title ="Start the mining process.";
                document.getElementById('miningpause').innerHTML = "Start BrainPlus and Balances tracker";
                document.getElementById('miningpause').disabled = false;
                document.getElementById('miningpause').title = "Mining will not start.";
                document.getElementById('miningstop').disabled = true;
                document.getElementById('miningstop').title = "All mining processes are already stopped.";
                break;
            }
          }
        });
      }
      updateHeader();

      window.setInterval(function() { 
        updateHeader();
      }, 10000);
    });

  </script>
  <!-- End of page scripts -->

  <body>
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
      <div justify-content-space-between>
        <a class="navbar-brand" href="/"><h5>NemosMiner</h5></a>
      </div>
      <div class="navbar-button">
        <button id="miningstart" class="btn btn-success btn-lg" disabled>Start mining</button>
        <button id="miningpause" class="btn btn-info btn-lg" disabled>Pause mining</button>
        <button id="miningstop" class="btn btn-danger btn-lg" disabled>Stop mining</button>
      </div>
      <div class="d-flex align-items-center navbar-summary text-white" id="summary"></div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <nav class="d-none d-md-block bg-light sidebar nav-collapse" id="sidebar">
          <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item" title="Shows information about the running miners as well as the reported earning data">
                <a id="navdashboard" class="nav-link" href="/">
                  <span data-feather="home"></span>
                  <i class="fas fa-tachometer-alt" aria-hidden="true"></i> Dashboard
                </a>
              </li>
              <li class="nav-item" title="Displays a bar graph of the reported earnings">
                <a id="navearningschart" class="nav-link" href="earningschart.html">
                  <i class="fas fa-chart-bar" aria-hidden="true"></i> Earnings Chart
                </a>
              </li>
            </ul>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>Miners</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item" title="Shows a list of the miners that were calculated as the most profitable">
                <a id="navminersbest" class="nav-link" href="minersbest.html">
                  <i class="fas fa-hammer" aria-hidden="true" style="color:rgb(48, 192, 48);"></i> Best Miners
                </a>
              </li>
              <li class="nav-item" title="Shows a list of all unavailable miners">
                <a id="navminersunavailable" class="nav-link" href="minersunavailable.html">
                  <i class="fas fa-hammer" aria-hidden="true" style="color:rgb(224, 32, 32);"></i> Unavailable Miners
                </a>
              </li>
              <li class="nav-item" title="Shows a list of all miners">
                <a id="navminers" class="nav-link" href="miners.html">
                  <i class="fas fa-hammer" aria-hidden="true" style="color:rgb(0, 0, 0);"></i> All Miners
                </a>
              </li>
            </ul>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>Pools</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item" title="Shows a list of the pools that were calculated as the most profitable">
                <a id="navpoolsbest" class="nav-link" href="poolsbest.html">
                  <i class="fas fa-database" aria-hidden="true" style="color:rgb(48, 192, 48);"></i> Best Pools
                </a>
              </li>
              <li class="nav-item" title="Shows a list of all unavailable pools">
                <a id="navpoolsunavailable" class="nav-link" href="poolsunavailable.html">
                  <i class="fas fa-database" aria-hidden="true" style="color:rgb(224, 32, 32);"></i> Unavailable Pools
                </a>
              </li>
              <li class="nav-item" title="Shows a list of all pools">
                <a id="navallpools" class="nav-link" href="pools.html">
                  <i class="fas fa-database" aria-hidden="true" style="color:rgb(0, 0, 0);"></i> All Pools
                </a>
              </li>
            </ul>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>Configuration</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item" title="Display and configure the devices (GPUs and CPUs)">
                <a id="navdevices" class="nav-link" href="devices.html">
                  <i class="fa fa-microchip" aria-hidden="true"></i> Devices
                </a>
              </li>
              <li class="nav-item" title="Simple configuration editor&#10;Allows you to edit the most common configuration items">
                <a id="navconfigedit" class="nav-link" href="configedit.html">
                  <i class="fas fa-sliders-h" aria-hidden="true"></i> Edit Configuration
                </a>
              </li>
              <li class="nav-item" title="View and reset common stat data">
                <a id="navminerstats" class="nav-link" href="stats.html">
                  <i class="fa fa-list-ul" aria-hidden="true"></i> Manage Stats
                </a>
              </li>
            </ul>
            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">

            <span>Extras</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item" title="Rig Monitor configuration & Rig status">
                <a id="navrigmonitor" class="nav-link" href="rigmonitor.html">
                  <i class="fas far fa-eye" aria-hidden="true"></i> Rig Monitor
                </a>
              </li>
              <li class="nav-item" title="Shows a list of the executed miners">
                <a id="navswitchinglog" class="nav-link" href="switchinglog.html">
                  <i class="fas fa-random" aria-hidden="true"></i> Switching Log
                </a>
              </li>
              <li class="nav-item" title="Shows the last 40 lines of the NemosMiner log">
                <a id="navtail" class="nav-link" href="logviewer.html">
                  <i class="fa fa-align-left" aria-hidden="true"></i> System Log
                </a>
              </li>
              <li class="nav-item" title="Shows the running configuration">
                <a id="navconfigrunning" class="nav-link" href="configrunning.html">
                  <i class="fas fa-file-code" aria-hidden="true"></i> Running Configuration
                </a>
              </li>
              <li class="nav-item" title="Displays the watchdog timers information">
                <a id="navwatchdogtimers" class="nav-link" href="watchdogtimers.html">
                  <i class="fas fa-dog" aria-hidden="true"></i> Watchdog Timers
                </a>
              </li>
              <li class="nav-item" title="Shows a list of the balance data of the last 14 days">
                <a id="navbalancedata" class="nav-link" href="balancedata.html">
                  <i class="fas fa-money-bill-alt" aria-hidden="true"></i> Balance Data
                </a>
              </li>
              <li class="nav-item" title="Shows the list of unprofitable algorithms">
                <a id="navunprofitablealgorithms" class="nav-link" href="unprofitablealgorithms.html">
                  <i class="fa fa-list-ol" aria-hidden="true"></i> Unprofitable Algorithms List
                </a>
              </li>
            </ul>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>Links</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item" title="Open the NemosMiner homepage in a new browser window">
                <a class="nav-link" href="https://nemosminer.com/" target="_blank">
                  <i class="fa fa-external-link-alt" aria-hidden="true"></i> Website
                </a>
              </li>
              <li class="nav-item" title="Open the NemosMiner repository on Github in a new browser window">
                <a class="nav-link" href="https://github.com/Minerx117/NemosMiner" target="_blank">
                  <i class="fab fa-github" aria-hidden="true"></i> Github
                </a>
              </li>
              <li class="nav-item" title="Open the NemosMiner API documentation in a new browser window">
                <a class="nav-link" href="APIDocs.html" target="_blank">
                  <i class="fa fa-book" aria-hidden="true"></i> API Documentation
                </a>
              </li>
            </ul>
          </div>
        </nav>
        <main role="main" class="main col-sm-12">

        <div class="modal" id="myModal" role="dialog">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title"></h4>
              </div>
              <div class="modal-body">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">OK</button>
              </div>
            </div>
          </div>
        </div>
